@using Services.Metrics.Models;

@if ( triples == null ) {
    <div class="spinner-border" role="status">
        <span class="visually-hidden">Loading...</span>
    </div>
}
else {
    var total_count = 0;
    var min_count = 10000;
    <div class="row">    
        <div class="col">
            <label>Triples</label>
        </div>

    @for (int i = 0; i < triples.Count; i++) {         
        total_count += triples[i].total_count;
        if (triples[i].total_count < min_count) {
            min_count = triples[i].total_count;
        }
        <div class="col">
            @triples[i].name:
            <label class="text@( triples[i].total_count < 5  ? "-danger" : triples[i].total_count < 10 ?  "-warning" : triples[i].total_count < 15 ?  "-info" :  "-success") ">
                 @triples[i].total_count 
            </label>
        </div>        
    }
        <div class="col">
            Total:
            <label class="text@( min_count < 5  ? "-danger" : min_count < 10 ?  "-warning" : min_count < 15 ?  "-info" :  "-success") ">
                @total_count
            </label>
        </div>
    </div>
}

@code {
    [Parameter]
    public List<NodeTripleCount>? triples { get; set; }
}
      
